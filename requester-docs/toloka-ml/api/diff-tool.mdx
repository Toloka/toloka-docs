---
title: "DiffTool â€” Toloka ML platform | Toloka documentation"
date: "2023-02-20T16:24:22.610529"
author: ["Toloka Team"]
coverId: F_bIcOYF9yjrxkPZrXc3
tags: ["engineering"]
ogDescription: ""
docsMenu: "mlMenu"
---

# DiffTool

Methods used to compare runs:

<Cut title="get_aggregation_diff(self, baseline_id, competitor_ids, metric_columns, replace_invalid_json_values, stat_tests)">

Creating a comparison aggregation object.

Parameters:

* `baseline_id`: `string`: Baseline run's ID.
* `competitor_ids`: `list[string]`: Compared run's ID.
* `metric_columns=None`: `list[string]`: (Optional) metric columns to compare.
* `replace_invalid_json_values=False`: `bool`: (Optional) replace invalid JSON values from a response (`nan` and `inf` are replaced with `None`).
* `stat_tests=None`: `list[string]`: (Optional) statistical test for calculating the value `p` (Wilcoxon or Ttest).

Values returned:

* `aggregation_diff`: `dict`: Comparison aggregation object. Format:

    ```js
    {
        'data': list[dict],
        'run_ids': list[string],
        'metric_names': list of string,
        'slice_names': list[string]
    }
    ```

</Cut>

<Cut title="get_sliced_aggregation_diff(self, aseline_id, competitor_ids, slice_columns, metric_columns, group_ids, replace_invalid_json_values, pvalue_threshold, stat_tests)">

Creating a sliced comparison aggregation object.

Parameters:

* `baseline_id`: `string`: Baseline run's ID.
* `competitor_ids`: `list[string]`: Compared run's ID.
* `slice_columns`: `list[string]`: Slice columns.
* `metric_columns=None`: `list[string]`: (Optional) metric columns to compare.
* `group_ids=None`: `list[string]`: (Optional) IDs of metric columns to compare, columns with group_id from group_ids are added to the metric columns.
* `replace_invalid_json_values=False`: `bool`: (Optional) replace invalid JSON values from a response (`nan` and `inf` are replaced with `None`).
* `value_threshold=None`: `float`: (Optional) slice threshold value, any differences with `p-value` > `pvalue_threshold` are skipped.
* `stat_tests=None`: `list[string]`: (Optional) statistical test for calculating the `p-value` (Wilcoxon or Ttest).

Values returned:

* `sliced_aggregation_diff`: `dict`: Comparison aggregation object.

</Cut>
