---
title: "PoolStatusObserver â€” Toloka-Kit | Toloka documentation"
date: "2023-06-20T13:46:52.587159"
author: ["Toloka Team"]
coverId: F_bIcOYF9yjrxkPZrXc3
tags: ["engineering"]
ogDescription: ""
docsMenu: "tkitMenu"
---

# PoolStatusObserver

`toloka.streaming.observer.PoolStatusObserver` | [Source code](https://github.com/Toloka/toloka-kit/blob/v1.2.0/src/streaming/observer.py#L154)

```python
PoolStatusObserver(
    self,
    toloka_client: Union[TolokaClient, AsyncTolokaClient],
    pool_id: str,
    *,
    name: Optional[str] = None
)
```

Observer for pool status change.

For usage with Pipeline.

Allow to register callbacks using the following methods:

* on_open
* on_closed
* on_archieved
* on_locked
* on_status_change

The Pool object will be passed to the triggered callbacks.

## Parameters description

| Parameters | Type | Description |
| :----------| :----| :-----------|
`toloka_client`|**[AsyncInterfaceWrapper](/docs/toloka-kit/reference/toloka.util.async_utils.AsyncInterfaceWrapper)\[Union\[[TolokaClient](/docs/toloka-kit/reference/toloka.client.TolokaClient), [AsyncTolokaClient](/docs/toloka-kit/reference/toloka.async_client.client.AsyncTolokaClient)\]\]**|<p>TolokaClient instance or async wrapper around it.</p>
`pool_id`|**str**|<p>Pool ID.</p>

**Examples:**

Bind to the pool's close to make some aggregations.

```python
def call_this_on_close(pool: Pool) -> None:
    assignments = client.get_assignments_df(pool_id=pool.id, status=['APPROVED'])
    do_some_aggregation(assignments)

observer = PoolStatusObserver(toloka_client, pool_id='123')
observer.on_close(call_this_on_close)
```

Call something at any status change.

```python
observer.on_status_change(lambda pool: ...)
```

## Methods summary

| Method | Description |
| :------| :-----------|
[get_unique_key](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.get_unique_key)| None
[inject](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.inject)| None
[on_archieved](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.on_archieved)| None
[on_closed](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.on_closed)| None
[on_locked](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.on_locked)| None
[on_open](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.on_open)| None
[on_status_change](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.on_status_change)| None
[register_callback](/docs/toloka-kit/reference/toloka.streaming.observer.PoolStatusObserver.register_callback)| Register given callable for pool status change to given value.