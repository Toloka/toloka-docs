---
title: "MetricCollector â€” Toloka-Kit | Toloka documentation"
date: "2023-08-28T10:25:49.328253"
coverId: F_bIcOYF9yjrxkPZrXc3
docsMenu: "tkitMenu"
---

# MetricCollector

`toloka.metrics.collector.MetricCollector` | [Source code](https://github.com/Toloka/toloka-kit/blob/v1.2.1/src/metrics/collector.py#L18)

```python
MetricCollector(
    self,
    metrics: List[BaseMetric],
    callback: Callable[[Dict[str, List[Tuple[Any, Any]]]], None]
)
```

Gather metrics

**Examples:**

How to gather metrics and sends it to zabbix:

```python
import toloka.client as toloka
from toloka.metrics import MetricCollector, Balance, AssignmentsInPool

toloka_client = toloka.TolokaClient(token, 'PRODUCTION')

def send_metric_to_zabbix(metric_dict):
    ### do something
    pass

collector = MetricCollector(
    [
        Balance(),
        AssignmentsInPool('12345678'),
    ],
    send_metric_to_zabbix,
)

bind_client(collector.metrics, toloka_client)

asyncio.run(collector.run())
```

## Methods summary

| Method | Description |
| :------| :-----------|
[create_async_tasks](/docs/toloka-kit/reference/toloka.metrics.collector.MetricCollector.create_async_tasks)| None
[run](/docs/toloka-kit/reference/toloka.metrics.collector.MetricCollector.run)| Starts collecting metrics. And never stops.